[gd_scene load_steps=4 format=3 uid="uid://k107v18q8nny"]

[ext_resource type="Script" path="res://game/main_scene.gd" id="1_8qkgv"]
[ext_resource type="PackedScene" uid="uid://bb8yvsx0g14vl" path="res://addons/dialog-parser/src/line_reader.tscn" id="1_wgwtm"]
[ext_resource type="Script" path="res://game/InstructionHandlerCustom.gd" id="2_8k1vr"]

[node name="MainScene" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2
script = ExtResource("1_8qkgv")

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="SubViewport" type="SubViewport" parent="SubViewportContainer"]
handle_input_locally = false
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="Game" type="Node2D" parent="SubViewportContainer/SubViewport"]

[node name="LineReader" parent="." node_paths=PackedStringArray("choice_container", "choice_option_container", "instruction_handler", "text_content", "text_container", "name_label", "name_container") instance=ExtResource("1_wgwtm")]
show_text_during_choices = true
show_advance_available = false
property_for_name = "character"
name_for_blank_name = "narrator"
choice_container = NodePath("../CanvasLayer/Control/ChoiceContainer")
choice_option_container = NodePath("../CanvasLayer/Control/ChoiceContainer/ChoiceItemContainer")
instruction_handler = NodePath("InstructionHandlerCustom")
text_content = NodePath("../CanvasLayer/Control/TextContainer/VBoxContainer/PanelContainer/RichTextLabel")
text_container = NodePath("../CanvasLayer/Control/TextContainer")
name_label = NodePath("../CanvasLayer/Control/TextContainer/VBoxContainer/Label")
name_container = NodePath("../CanvasLayer/Control/TextContainer/VBoxContainer/Label")

[node name="InstructionHandlerCustom" type="Node" parent="LineReader"]
script = ExtResource("2_8k1vr")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TextContainer" type="CenterContainer" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -157.0
grow_horizontal = 2
grow_vertical = 0
mouse_filter = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Control/TextContainer"]
layout_mode = 2
mouse_filter = 2
alignment = 2

[node name="Label" type="Label" parent="CanvasLayer/Control/TextContainer/VBoxContainer"]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/TextContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 8
mouse_filter = 2

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/Control/TextContainer/VBoxContainer/PanelContainer"]
custom_minimum_size = Vector2(900, 130)
layout_mode = 2
fit_content = true
autowrap_mode = 2
visible_characters = 0
visible_ratio = 0.0

[node name="ChoiceContainer" type="PanelContainer" parent="CanvasLayer/Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="ChoiceItemContainer" type="VBoxContainer" parent="CanvasLayer/Control/ChoiceContainer"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
